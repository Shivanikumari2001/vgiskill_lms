import{x as L,y as p,z as P,i as V,q as R,H as U,J as j,B as b,E as C,a as c,e as f,f as n,u as t,h as v,aK as $,Q as I,w as u,F as y,g as w,U as T,T as z,r as G,Y as E,Z as K,a3 as H,l as J,t as g,X as O,S as Q,a5 as X,o as l}from"./index-C4szjxrb.js";import{_ as Y}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-Bd-WFY5M.js";const Z={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},W={class:"md:w-3/4 md:mx-auto py-5 mx-5"},ee={class:"grid grid-cols-3 gap-5 mb-5"},se={key:0},te={key:1},ae={key:1,class:"text-center p-5 text-ink-gray-5 mt-52 w-3/4 md:w-1/2 mx-auto space-y-2"},ne={class:"text-xl font-medium"},le={class:"leading-5"},me={__name:"AssignmentSubmissionList",setup(ie){const h=V("$user"),A=V("$dayjs"),{brand:N}=L(),_=R(),i=p(""),o=p(""),r=p("");P(()=>{var e,a;!((e=h.data)!=null&&e.is_instructor)&&!((a=h.data)!=null&&a.is_moderator)&&_.push({name:"Courses"}),i.value=_.currentRoute.value.query.assignmentID,o.value=_.currentRoute.value.query.member,r.value=_.currentRoute.value.query.status,k()});const B=()=>{let e={};return i.value&&(e.assignment=i.value),o.value&&(e.member=o.value),r.value&&(e.status=r.value),e},m=U({doctype:"LMS Assignment Submission",fields:["name","assignment","assignment_title","member_name","creation","status"],orderBy:"creation desc",transform(e){return e.map(a=>({...a,creation:A(a.creation).fromNow()}))}});j([i,o,r],()=>{_.push({query:{assignmentID:i.value,member:o.value,status:r.value}}),k()});const k=()=>{m.update({filters:B()}),m.reload()},S=b(()=>[{label:"Member",key:"member_name",width:1},{label:"Assignment",key:"assignment_title",width:2},{label:"Submitted",key:"creation",width:1,align:"left"},{label:"Status",key:"status",width:1,align:"center"}]),M=b(()=>[{label:"",value:""},{label:"Pass",value:"Pass"},{label:"Fail",value:"Fail"},{label:"Not Graded",value:"Not Graded"}]),q=e=>e==="Pass"?"green":e==="Not Graded"?"blue":"red",D=b(()=>[{label:"Assignment Submissions"}]);return C(()=>({title:__("Assignment Submissions"),icon:N.favicon})),(e,a)=>{var x;const F=G("router-link");return l(),c(y,null,[f("header",Z,[n(t(Y),{items:D.value},null,8,["items"])]),f("div",W,[f("div",ee,[n($,{doctype:"LMS Assignment",modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=s=>i.value=s),placeholder:e.__("Assignment")},null,8,["modelValue","placeholder"]),n($,{doctype:"User",modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=s=>o.value=s),placeholder:e.__("Member")},null,8,["modelValue","placeholder"]),n(t(I),{modelValue:r.value,"onUpdate:modelValue":a[2]||(a[2]=s=>r.value=s),type:"select",options:M.value,placeholder:e.__("Status")},null,8,["modelValue","options","placeholder"])]),t(m).loading||(x=t(m).data)!=null&&x.length?(l(),v(t(Q),{key:0,columns:S.value,rows:t(m).data,rowKey:"name"},{default:u(()=>[n(t(z),{class:"mb-2 grid items-center space-x-4 rounded bg-surface-gray-2 p-2"},{default:u(()=>[(l(!0),c(y,null,w(S.value,s=>(l(),v(t(T),{item:s},null,8,["item"]))),256))]),_:1}),n(t(O),null,{default:u(()=>[(l(!0),c(y,null,w(t(m).data,s=>(l(),v(F,{to:{name:"AssignmentSubmission",params:{assignmentID:s.assignment,submissionName:s.name}}},{default:u(()=>[n(t(E),{row:s},{default:u(({column:d,item:oe})=>[n(t(K),{item:s[d.key],align:d.align},{default:u(()=>[d.key=="status"?(l(),c("div",se,[n(t(H),{theme:q(s[d.key])},{default:u(()=>[J(g(s[d.key]),1)]),_:2},1032,["theme"])])):(l(),c("div",te,g(s[d.key]),1))]),_:2},1032,["item","align"])]),_:2},1032,["row"])]),_:2},1032,["to"]))),256))]),_:1})]),_:1},8,["columns","rows"])):(l(),c("div",ae,[n(t(X),{class:"size-8 mx-auto stroke-1 text-ink-gray-4"}),f("div",ne,g(e.__("No submissions")),1),f("div",le,g(e.__("There are no submissions for this assignment.")),1)]))])],64)}}};export{me as default};
//# sourceMappingURL=AssignmentSubmissionList-CAeDBkYn.js.map

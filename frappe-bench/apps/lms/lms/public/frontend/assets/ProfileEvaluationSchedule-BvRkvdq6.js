import{aH as Be,a as D,o as d,e as u,b as j,bU as Q,f as _,W as De,t as N,u as o,y as H,ac as Ee,B as U,i as ve,h as L,w as J,p as re,Q as ce,am as fe,bY as gt,D as rt,z as Re,ar as yt,J as me,bZ as ht,b_ as Dt,b$ as bt,c0 as xt,c1 as wt,aI as Ze,c2 as kt,aL as We,n as le,F as te,g as se,bw as ue,_ as Ce,l as Oe,b6 as Ct,az as Et,bI as Xe,c3 as Mt,ad as Qe,bJ as et,bK as tt,br as Ue,a9 as Tt,s as $t,v as _t,c as Fe,aa as Se,c4 as At,G as Ft,c5 as St,a6 as Vt,a7 as Bt,C as It,j as Ht,k as nt,c6 as Yt,V as Ot,c7 as jt,aK as Wt,H as Lt}from"./index-C4szjxrb.js";import{_ as Rt}from"./Tabs.vue_vue_type_script_setup_true_lang-DAhHP3Hd.js";import{T as Nt}from"./TabButtons-1rgcL6JH.js";function Pt(t,n){let l=[31,28,31,30,31,30,31,31,30,31,30,31],e=new Date(n,t,1),c=e.getDay(),b=S(e,c),r=A(e),a=[...b,...r],x=F(a);return[...a,...x];function A(E){let p=E.getMonth();p==1&&g(E)&&(l[p]=29);let y=l[p]+1;return C(E,1,y)}function S(E,p){let y=C(E,0,p,-1);return y=y.reverse(),y}function F(E){const p=E.length>35?42:35;let y=E.length,w=E[y-1],q=p-y+1;return C(w,1,q,1,!0)}function C(E,p,y,w=1,q=!1){let M=[];for(let f=p;f<y;f++){let h=new Date(E.getFullYear(),q?E.getMonth()+1:E.getMonth(),f*w);M.push(h)}return M}function g(E){let p=E.getFullYear();return p%400===0||p%100!==0&&p%4===0}}function lt(t,n){if(typeof n!="function")throw new Error(`${n} should be a function`);return Object.keys(t).reduce((l,e)=>{const c=n(t[e]);return l[c]||(l[c]=[]),l[c].push(t[e]),l},{})}function de(t){let[n,l]=t.split(":");return parseInt(n)*60+parseInt(l)}function je(t){let n=Math.floor(t/60),l=t%60;return n<10&&(n=`0${n}`),l<10&&(l=`0${l}`),`${n}:${l}:00`}function ee(t){typeof t=="string"&&(t=new Date(t));let n=t.getDate(),l=t.getMonth()+1,e=t.getFullYear();return n<10&&(n="0"+n),l<10&&(l="0"+l),`${e}-${l}-${n}`}function zt(t,n=!0,l=!0,e="short"){const c={day:"numeric"};return l&&(c.month="short"),n&&(c.weekday=e),t.toLocaleDateString("en-US",c)}function Ut(t,n=!1){return n?Zt[t.getDay()]+", "+t.getDate():Ge[t.getDay()]+" "+t.getDate()}function it(t,n){let l=de(t);return de(n)-l}function Le(t){return t.split(":").slice(0,2).join(":")+":00"}function qt(t){t=t.sort((l,e)=>l.startTime-e.startTime);const n=[];for(const l of t){const e=n.find(c=>c[c.length-1].endTime<=l.startTime);e?e.push(l):n.push([l])}return n.map((l,e)=>l.map((c,b)=>({...c,hallNumber:e,idx:b}))).flat()}const ut=["January","February","March","April","May","June","July","August","September","October","November","December"],Ge=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Zt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dt=["12 am","1 am","2 am","3 am","4 am","5 am","6 am","7 am","8 am","9 am","10 am","11 am","12 pm","1 pm","2 pm","3 pm","4 pm","5 pm","6 pm","7 pm","8 pm","9 pm","10 pm","11 pm"],ct=["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"];function Jt(t,n,l){return t=at(t,l),n=at(n,l),t.split(" ")[1]===n.split(" ")[1]&&(t=t.split(" ")[0]),t+" - "+n}function at(t,n){if(n==="12h"){let[l,e]=t.split(":");l=parseInt(l);const c=l>=12?"pm":"am";if(l=l%12,l=l||12,e==="00")return`${l} ${c}`;t=`${l}:${e} ${c}`}return t}const Je={amber:{color:"#DB7706",border:"#DB7706",borderActive:"#FBCC55",text:"#91400D",subtext:"#AD8460",subtextActive:"#FAEBD0",bg:"#FFF7D3",bgHover:"#FEEDA9",bgActive:"#E79913"},violet:{color:"#6846E3",border:"#6846E3",borderActive:"#B3A1F5",text:"#5F46C7",subtext:"#766D9B",subtextActive:"#E4DCFD",bg:"#F0EBFF",bgHover:"#DBD5FF",bgActive:"#7A51F4"},pink:{color:"#E34AA6",border:"#E34AA6",borderActive:"#F6A7D6",text:"#CF3A96",subtext:"#B26997",subtextActive:"#F9DBED",bg:"#FDE8F5",bgHover:"#FFD5F0",bgActive:"#E34AA6"},cyan:{color:"#3BBDE5",border:"#3BBDE5",borderActive:"#72D5F3",text:"#267A94",subtext:"#668E9C",subtextActive:"#D6EDF4",bg:"#DDF7FF",bgHover:"#B3E8F7",bgActive:"#32A4C7"},blue:{color:"#0289F7",border:"#0289F7",borderActive:"#A7D7FD",text:"#007BE0",subtext:"#5C8DB3",subtextActive:"#CCE7FD",bg:"#E6F4FF",bgHover:"#C8E6FF",bgActive:"#0289F7"},orange:{color:"#E86C13",border:"#E86C13",borderActive:"#FFCBA3",text:"#E86C13",subtext:"#A67765",subtextActive:"#FAE2D0",bg:"#FFEFE4",bgHover:"#FFDEC5",bgActive:"#E86C13"},green:{color:"#30A66D",border:"#30A66D",borderActive:"#88D5A5",text:"#137949",subtext:"#678877",subtextActive:"#D6EDE2",bg:"#E4FAEB",bgHover:"#CBF3D7",bgActive:"#30A66D"}},Gt={amber:{color:"#DB7706",border:"#C57411",borderActive:"#C57411",text:"#C57411",textActive:"#824108",subtext:"#988356",subtextActive:"#8E6026",bg:"#371E06",bgHover:"#4B2606",bgActive:"#F8D16E"},violet:{color:"#6846E3",border:"#A384EC",borderActive:"#8867E8",text:"#A384EC",textActive:"#4639A6",subtext:"#9389AE",subtextActive:"#332978",bg:"#221C42",bgHover:"#281E5D",bgActive:"#C4AFEE"},pink:{color:"#E34AA6",border:"#CB4394",borderActive:"#CB4394",text:"#E359AB",textActive:"#822A5F",subtext:"#B07E99",subtextActive:"#935277",bg:"#471432",bgHover:"#68204B",bgActive:"#F6C5DE"},cyan:{color:"#3BBDE5",border:"#2B8DAB",borderActive:"#2B8DAB",text:"#3CB8DC",textActive:"#155266",subtext:"#819FA8",subtextActive:"#3A6E7D",bg:"#0B252D",bgHover:"#0E3B49",bgActive:"#A0E6F7"},blue:{color:"#0289F7",border:"#3294E3",borderActive:"#1580D8",text:"#5AAEF2",textActive:"#155999",subtext:"#7F95AC",subtextActive:"#386A99",bg:"#10243E",bgHover:"#052B53",bgActive:"#ADD2F5"},orange:{color:"#E86C13",border:"#C45A0E",borderActive:"#C45A0E",text:"#DE6D1B",textActive:"#823906",subtext:"#B3876B",subtextActive:"#955528",bg:"#401F07",bgHover:"#532707",bgActive:"#FFA873"},green:{color:"#30A66D",border:"#35AE74",borderActive:"#35AE74",text:"#58C08E",textActive:"#0B6139",subtext:"#7CA490",subtextActive:"#0B6139",bg:"#0B2E1C",bgHover:"#0A3F27",bgActive:"#9BE6C1"}},ot={sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6};function Kt(t){const n=(t==null?void 0:t.weekendDays)||(t==null?void 0:t.weekends);return!n||!Array.isArray(n)||n.length===0?[0]:n.map(l=>{if(typeof l=="number")return l;if(typeof l=="string"){const e=l.trim().toLowerCase();if(ot.hasOwnProperty(e))return ot[e]}return null}).filter(l=>l!==null&&l>=0&&l<=6)}function vt(t,n){const l=new Date(t).getDay();return Kt(n).includes(l)}function qe(t,n){return`${ut[t]} ${n}`}function Xt(t){const n=[];for(const l of t||[]){const e=new Date(l),c=e.getMonth(),b=e.getFullYear(),r=`${b}-${c}`;n.find(a=>a.key===r)||n.push({key:r,month:c,year:b})}return n}const Qt={},en={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function tn(t,n){return d(),D("svg",en,[...n[0]||(n[0]=[u("path",{d:"M8 6C9.10457 6 10 6.89543 10 8C10 9.10457 9.10457 10 8 10C6.89543 10 6 9.10457 6 8C6 6.89543 6.89543 6 8 6ZM8 7C7.44772 7 7 7.44772 7 8C7 8.55228 7.44772 9 8 9C8.55228 9 9 8.55228 9 8C9 7.44772 8.55228 7 8 7Z",fill:"currentColor"},null,-1)])])}const nn=Be(Qt,[["render",tn]]),ln={},an={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function on(t,n){return d(),D("svg",an,[...n[0]||(n[0]=[u("path",{d:"M3 6C4.10457 6 5 6.89543 5 8C5 9.10457 4.10457 10 3 10C1.89543 10 1 9.10457 1 8C1 6.89543 1.89543 6 3 6ZM8 6C9.10457 6 10 6.89543 10 8C10 9.10457 9.10457 10 8 10C6.89543 10 6 9.10457 6 8C6 6.89543 6.89543 6 8 6ZM13 6C14.1046 6 15 6.89543 15 8C15 9.10457 14.1046 10 13 10C11.8954 10 11 9.10457 11 8C11 6.89543 11.8954 6 13 6ZM13 7C12.4477 7 12 7.44772 12 8C12 8.55228 12.4477 9 13 9C13.5523 9 14 8.55228 14 8C14 7.44772 13.5523 7 13 7ZM3 7C2.44772 7 2 7.44772 2 8C2 8.55228 2.44772 9 3 9C3.55228 9 4 8.55228 4 8C4 7.44772 3.55228 7 3 7ZM8 7C7.44772 7 7 7.44772 7 8C7 8.55228 7.44772 9 8 9C8.55228 9 9 8.55228 9 8C9 7.44772 8.55228 7 8 7Z",fill:"currentColor"},null,-1)])])}const sn=Be(ln,[["render",on]]),rn={},un={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function dn(t,n){return d(),D("svg",un,[...n[0]||(n[0]=[u("path",{d:"M5 9C6.10457 9 7 9.89543 7 11C7 12.1046 6.10457 13 5 13C3.89543 13 3 12.1046 3 11C3 9.89543 3.89543 9 5 9ZM11 9C12.1046 9 13 9.89543 13 11C13 12.1046 12.1046 13 11 13C9.89543 13 9 12.1046 9 11C9 9.89543 9.89543 9 11 9ZM5 10C4.44772 10 4 10.4477 4 11C4 11.5523 4.44772 12 5 12C5.55228 12 6 11.5523 6 11C6 10.4477 5.55228 10 5 10ZM11 10C10.4477 10 10 10.4477 10 11C10 11.5523 10.4477 12 11 12C11.5523 12 12 11.5523 12 11C12 10.4477 11.5523 10 11 10ZM5 3C6.10457 3 7 3.89543 7 5C7 6.10457 6.10457 7 5 7C3.89543 7 3 6.10457 3 5C3 3.89543 3.89543 3 5 3ZM11 3C12.1046 3 13 3.89543 13 5C13 6.10457 12.1046 7 11 7C9.89543 7 9 6.10457 9 5C9 3.89543 9.89543 3 11 3ZM5 4C4.44772 4 4 4.44772 4 5C4 5.55228 4.44772 6 5 6C5.55228 6 6 5.55228 6 5C6 4.44772 5.55228 4 5 4ZM11 4C10.4477 4 10 4.44772 10 5C10 5.55228 10.4477 6 11 6C11.5523 6 12 5.55228 12 5C12 4.44772 11.5523 4 11 4Z",fill:"currentColor"},null,-1)])])}const cn=Be(rn,[["render",dn]]),vn={class:"flex flex-row-reverse gap-2"},fn={class:"flex flex-col gap-5"},mn={class:"flex justify-between text-xl font-semibold"},pn={class:"flex flex-col gap-4"},gn={class:"flex items-center gap-2"},yn={class:"text-sm font-normal"},hn={key:0,class:"flex items-center gap-2"},Dn={class:"text-sm font-normal"},bn={key:1,class:"flex items-center gap-2"},xn={class:"text-sm font-normal"},wn={key:2,class:"flex items-center gap-2"},kn={class:"text-sm font-normal"},Cn={__name:"EventModalContent",props:{calendarEvent:{type:Object,required:!0},date:{type:Date,required:!0},isEditMode:{type:Boolean}},emits:["close","edit","delete"],setup(t,{emit:n}){return(l,e)=>(d(),D("div",{class:"w-80 rounded bg-surface-modal text-ink-gray-8 p-4 shadow",onClick:e[3]||(e[3]=Q(()=>{},["stop"]))},[u("div",vn,[u("span",{class:"cursor-pointer",onClick:e[0]||(e[0]=Q(c=>l.$emit("close"),["stop"]))},[_(De,{name:"x",class:"h-4 w-4"})]),t.isEditMode?(d(),D("span",{key:0,class:"cursor-pointer",onClick:e[1]||(e[1]=Q(c=>l.$emit("edit"),["stop"]))},[_(De,{name:"edit-2",class:"h-4 w-4"})])):j("",!0),t.isEditMode?(d(),D("span",{key:1,class:"cursor-pointer",onClick:e[2]||(e[2]=Q(c=>l.$emit("delete"),["stop"]))},[_(De,{name:"trash-2",class:"h-4 w-4"})])):j("",!0)]),u("div",fn,[u("div",mn,[u("span",null,N(t.calendarEvent.title||"New Event"),1)]),u("div",pn,[u("div",gn,[_(De,{name:"calendar",class:"h-4 w-4"}),u("span",yn,N(o(zt)(t.date)),1)]),t.calendarEvent.participant?(d(),D("div",hn,[_(De,{name:"user",class:"h-4 w-4"}),u("span",Dn,N(t.calendarEvent.participant),1)])):j("",!0),t.calendarEvent.fromTime&&t.calendarEvent.toTime?(d(),D("div",bn,[_(De,{name:"clock",class:"h-4 w-4"}),u("span",xn,N(t.calendarEvent.fromTime)+" - "+N(t.calendarEvent.toTime),1)])):j("",!0),t.calendarEvent.venue?(d(),D("div",wn,[_(De,{name:"map-pin",class:"h-4 w-4"}),u("span",kn,N(t.calendarEvent.venue),1)])):j("",!0)])])]))}},En={class:"grid grid-cols-1 gap-4"},Mn={class:"flex flex-row-reverse gap-2"},ft={__name:"NewEventModal",props:{event:{type:Object}},setup(t){var F,C,g,E,p,y,w,q,M,f,h,P;const n=H(!1),l=t,e=Ee({title:((F=l.event)==null?void 0:F.title)||"",date:((C=l.event)==null?void 0:C.date)||"",participant:((g=l.event)==null?void 0:g.participant)||"",fromDateTime:((E=l.event)==null?void 0:E.fromDateTime)||"",toDateTime:((p=l.event)==null?void 0:p.toDateTime)||"",fromDate:((y=l.event)==null?void 0:y.fromDate)||"",toDate:((w=l.event)==null?void 0:w.toDate)||"",fromTime:((q=l.event)==null?void 0:q.fromTime)||"",toTime:((M=l.event)==null?void 0:M.toTime)||"",venue:((f=l.event)==null?void 0:f.venue)||"",color:((h=l.event)==null?void 0:h.color)||"green",id:"",isFullDay:((P=l.event)==null?void 0:P.isFullDay)||!1}),c=U(()=>e.title!==l.event.title||e.date!==l.event.date||e.participant!==l.event.participant||e.fromDate!==l.event.fromDate||e.toDate!==l.event.toDate||e.fromTime!==l.event.fromTime||e.toTime!==l.event.toTime||e.venue!==l.event.venue||e.color!==l.event.color||e.isFullDay!==l.event.isFullDay),b=Object.keys(Je),r=H("");function a(){e.date?!e.fromTime&&!e.isFullDay?r.value="Start Time is required":!e.toTime&&!e.isFullDay?r.value="End Time is required":r.value="":r.value="Date is required",e.hasOwnProperty("fromTime")&&e.hasOwnProperty("toTime")&&x()}function x(){it(e.fromTime,e.toTime)<=0&&(r.value="Start time must be less than End Time")}const v=ve("calendarActions");function A(W){if(a(),!r.value){if(!c.value){W();return}if(S(),l.event.hasOwnProperty("id"))e.id=l.event.id,v.updateEventState(e);else{const B="#"+Math.random().toString(36).substring(3,9);e.id=B,v.createNewEvent(e)}W()}}function S(){e.isFullDay?(e.fromTime="",e.toTime=""):(e.fromTime=Le(e.fromTime),e.toTime=Le(e.toTime))}return(W,B)=>(d(),L(o(rt),{modelValue:n.value,"onUpdate:modelValue":B[11]||(B[11]=T=>n.value=T),options:{title:l.event.hasOwnProperty("id")?"Edit Event":"New Event",actions:[{label:"Submit",variant:"solid"}]},class:"z-50"},{"body-content":J(()=>[u("div",null,[u("div",En,[_(o(ce),{type:"Input",modelValue:e.title,"onUpdate:modelValue":B[0]||(B[0]=T=>e.title=T),label:"Title",placeholder:"Meet with John Doe"},null,8,["modelValue"]),_(o(ce),{type:"Date",modelValue:e.date,"onUpdate:modelValue":B[1]||(B[1]=T=>e.date=T),label:"Date",required:"true",onBlur:B[2]||(B[2]=T=>a())},null,8,["modelValue"]),_(o(ce),{type:"Input",modelValue:e.participant,"onUpdate:modelValue":B[3]||(B[3]=T=>e.participant=T),label:"Person",placeholder:"John Doe"},null,8,["modelValue"]),e.isFullDay?j("",!0):(d(),L(o(ce),{key:0,type:"time",modelValue:e.fromTime,"onUpdate:modelValue":B[4]||(B[4]=T=>e.fromTime=T),label:"Start Time",onBlur:B[5]||(B[5]=T=>a())},null,8,["modelValue"])),e.isFullDay?j("",!0):(d(),L(o(ce),{key:1,type:"time",modelValue:e.toTime,"onUpdate:modelValue":B[6]||(B[6]=T=>e.toTime=T),label:"End Time",onBlur:B[7]||(B[7]=T=>a())},null,8,["modelValue"])),_(o(ce),{type:"Input",modelValue:e.venue,"onUpdate:modelValue":B[8]||(B[8]=T=>e.venue=T),label:"Venue",placeholder:"Frappe, Neelkanth Business Park"},null,8,["modelValue"]),_(o(ce),{type:"select",modelValue:e.color,"onUpdate:modelValue":B[9]||(B[9]=T=>e.color=T),options:o(b),label:"Color",class:"form-control prefix"},{prefix:J(()=>{var T;return[u("div",{class:"h-5 w-5 rounded-full shadow-md",style:fe({backgroundColor:(T=o(Je)[e==null?void 0:e.color])==null?void 0:T.color})},null,4)]}),_:1},8,["modelValue","options"]),_(o(ce),{type:"checkbox",label:"Full Day Event?",modelValue:e.isFullDay,"onUpdate:modelValue":B[10]||(B[10]=T=>e.isFullDay=T)},null,8,["modelValue"]),r.value?(d(),L(o(gt),{key:2,message:r.value},null,8,["message"])):j("",!0)])])]),actions:J(({close:T})=>[u("div",Mn,[_(o(re),{class:"w-full",variant:"solid",onClick:I=>A(T),label:"Submit"},null,8,["onClick"])])]),_:1},8,["modelValue","options"]))}},st=H("");function Ve(t,n=""){const l=U(()=>{let c=lt(t,r=>r.date),b={};if(n==="Month")for(const[r,a]of Object.entries(c))b[r]=Tn(a);else for(let[r,a]of Object.entries(c)){a=a.filter(v=>!v.isFullDay),a.forEach(v=>{v.startTime=de(v.fromTime),v.endTime=de(v.toTime)});let x=a.sort((v,A)=>v.startTime-A.startTime);b[r]=qt(x)}return b}),e=U(()=>{let c=t.filter(r=>r.isFullDay);return lt(c,r=>r.date)});return{timedEvents:l,fullDayEvents:e}}function Tn(t){let n=t.filter(e=>e.isFullDay),l=t.filter(e=>!e.isFullDay).sort((e,c)=>e.fromTime!==c.fromTime?de(e.fromTime)>de(c.fromTime)?1:-1:de(e.toTime)>de(c.toTime)?1:-1);return[...n,...l]}const $n={class:"relative flex h-full select-none items-start gap-2 overflow-hidden"},_n={key:0},An={class:"flex w-fit flex-col gap-0.5 overflow-hidden"},Fn={class:"relative flex h-full select-none items-start gap-2 overflow-hidden"},Sn={key:0},Vn={class:"flex w-fit flex-col text-start overflow-hidden whitespace-nowrap"},Bn={class:"text-sm font-medium truncate"},In=40,Hn=32.5,Yn={__name:"CalendarEvent",props:{event:{type:Object,required:!0},date:{type:Date,required:!0}},setup(t){const n=t,l=ve("activeView"),e=ve("config"),c=ve("calendarActions");Re(()=>{document.addEventListener("click",b)}),yt(()=>{document.removeEventListener("click",b)});function b(i){f.value&&f.value.contains(i.target)||M.value&&M.value.contains(i.target)||he()}const r=H(n.event),a=Ee({...n.event});me(()=>n.event,i=>{a.fromTime=i.fromTime,a.toTime=i.toTime,a.fromDate=i.fromDate,a.toDate=i.toDate,a.fromDateTime=i.fromDate+" "+i.fromTime,a.toDateTime=i.toDate+" "+i.toTime,r.value=i},{deep:!0});const x=e.eventIcons,v=e.hourHeight/60,A=v*15,S=Ee({xAxis:0,yAxis:0}),F=U(()=>{if(n.event.isFullDay)return{transform:`translate(${S.xAxis}px, ${S.yAxis}px)`,zIndex:T.value?100:n.event.idx+1};let $=it(r.value.fromTime,r.value.toTime)*v;$<In&&($=Hn),$+="px";let O=de(r.value.fromTime)*v,Y=r.value.hallNumber,Z=B.value||T.value?"100%":`${93-Y*20}%`,K=B.value||T.value?"0":`${Y*20}%`,X=B.value||T.value?100:(n.event.idx||1)*Y+1;return{height:$,top:O+"px",zIndex:X,left:K,width:Z,transform:`translate(${S.xAxis}px, ${S.yAxis}px)`}}),C=U(()=>{let i=n.event.color||"green";return i=p(i),{"--bg":i.bg,"--text":i.text,"--subtext":i.subtext,"--text-active":i.textActive,"--subtext-active":i.subtextActive,"--bg-hover":i.bgHover,"--bg-active":i.bgActive}}),g=U(()=>{let i=n.event.color||"green";return i=p(i),{"--border":i.border,"--border-active":i.borderActive}}),E=()=>{const i=document.documentElement.getAttribute("data-theme");return i||(document.documentElement.classList.contains("htw-dark")?"dark":"light")};function p(i){let $=E()==="dark"?Gt:Je;if(!(i!=null&&i.startsWith("#")))return $[i]||$.green;for(const O of Object.values($))if(O.color===i)return O;return $.green}const y=H(null),w=H(null),q=U(()=>{if(l.value==="Month")return;if(n.event.isFullDay)return"line-clamp-1";if(!M.value||!y.value||!w.value||!n.event.fromTime&&!n.event.toTime)return;const i=M.value.clientHeight,$=w.value.offsetHeight,O=i-$-8,Y=getComputedStyle(y.value),Z=parseFloat(Y.lineHeight),K=Math.max(1,Math.floor(O/Z));return`line-clamp-${Math.min(K,6)}`}),M=H(null),f=H(null),{floatingStyles:h}=ht(M,f,{placement:l.value==="Day"?"top":"right",middleware:[bt(10),xt(),wt()],whileElementsMounted:Dt}),P=H(!1),W=H(null),B=H(!1),T=H(!1),I=H(!1);function be(i){let $=parseFloat(i)/v+de(r.value.fromTime);return $=Math.floor($),$>1440&&($=1440),je($)}const ne=H(!1);function oe(i){B.value=!0,T.value=!1;let $=r.value.toTime;window.addEventListener("mousemove",O),window.addEventListener("mouseup",Y,{once:!0});function O(Z){ne.value=!0;let K=Z.clientY-M.value.getBoundingClientRect().top;M.value.style.height=Math.round(K/A)*A+"px",M.value.style.width="100%",a.toTime=be(M.value.style.height),r.value.toTime=be(M.value.style.height)}function Y(){B.value=!1,$!==r.value.toTime&&c.updateEventState(r.value),window.removeEventListener("mousemove",O)}}function ye(i){i.preventDefault();let $=i.clientY;const O=M.value.getBoundingClientRect();if(B.value)return;window.addEventListener("mousemove",Y),window.addEventListener("mouseup",Z);function Y(K){T.value=!0,ne.value=!0,M.value&&(he(),M.value.style.cursor="grabbing",l.value==="Week"&&z(K.clientX,O),n.event.isFullDay||Ne(K.clientY,$,O),r.value.fromTime!==a.fromTime||r.value.toTime!==a.toTime?I.value=!0:I.value=!1)}function Z(K){K.preventDefault(),T.value=!1,M.value&&(M.value.style.cursor="pointer",r.value.isFullDay&&l.value==="Week"&&(M.value.style.width="90%"),r.value.date!==a.date&&(I.value=!0),I.value&&(r.value.date=a.date,r.value.fromDate=a.date,r.value.toDate=a.date,r.value.fromDateTime=a.date+" "+a.fromTime,r.value.toDateTime=a.date+" "+a.toTime,r.value.fromTime=a.fromTime,r.value.toTime=a.toTime,c.updateEventState(r.value),I.value=!1,S.xAxis=0,S.yAxis=0),window.removeEventListener("mousemove",Y),window.removeEventListener("mouseup",Z))}}function G(i,$=0){return new Date(i.getFullYear(),i.getMonth(),i.getDate()+$)}function z(i,$){const O=new Date(M.value.parentNode.getAttribute("data-date-attr"));n.event.isFullDay&&(M.value.style.width="100%");let Y=M.value.clientWidth,Z=Math.floor((i-$.left)/Y);const K=O.getDay(),X=6-O.getDay();Z=Ie(Z,K,X);let ze=Math.ceil(Z*Y);S.xAxis=ze,a.date=ee(G(O,Z))}function Ie(i,$,O){return i<-$?i=-$:i>O&&(i=O),i}function Ne(i,$,O){let Y=i-$,Z=M.value.parentNode.getBoundingClientRect().top,K=M.value.parentNode.getBoundingClientRect().bottom;i<Z&&(Y=Z-O.top),i>K&&(Y=K-O.bottom),Y=Math.round(Y/A)*A,S.yAxis=Y,a.fromTime=je(de(r.value.fromTime)+Math.round(Y/v)),a.toTime=je(de(r.value.toTime)+Math.round(Y/v)),xe()}function xe(){a.fromTime<"00:00:00"&&(a.fromTime="00:00:00"),a.fromTime>"24:00:00"&&(a.fromTime="24:00:00"),a.toTime<"00:00:00"&&(a.toTime="00:00:00"),a.toTime>"24:00:00"&&(a.toTime="24:00:00")}const we=()=>P.value=!P.value,he=()=>P.value=!1;function Pe(i){(i.key==="Delete"||i.key==="Backspace")&&(P.value=!1,He())}me(()=>P.value,i=>{if(i){if(!e.isEditMode||!e.enableShortcuts)return;document.addEventListener("keydown",Pe,{once:!0})}});let pe=null;function ge(i){if(ne.value){ne.value=!1;return}i.detail===1&&(pe=setTimeout(()=>{c.props.onClick?c.props.onClick({e:i,calendarEvent:r.value}):we()},200))}const Te=H(!1);function $e(i=null){if(i&&(i.cancelBubble=!0),clearTimeout(pe),c.props.onDblClick){c.props.onDblClick({e:i,calendarEvent:r.value});return}e.isEditMode&&(he(),Te.value=!0)}function He(){c.deleteEvent(r.value.id),he()}const Ye=U(()=>{try{const i=r.value.toDate||r.value.date||r.value.fromDate||n.event.toDate||n.event.date||n.event.fromDate;if(!i)return!1;let $="00:00:00";return r.value.isFullDay||n.event.isFullDay?$="23:59:59":r.value.toTime&&($=r.value.toTime),new Date(`${i}T${$}`.replace(" ","T")).getTime()<new Date().getTime()}catch{return!1}});return(i,$)=>{var O,Y,Z,K;return d(),D(te,null,[o(l)!=="Month"?(d(),D("div",Ze({key:0,class:"event min-h-6 mx-px shadow rounded transition-all duration-75 shrink-0",ref_key:"eventRef",ref:M},i.$attrs,{class:[P.value&&"!z-20 drop-shadow-xl",o(st)==(((O=n.event)==null?void 0:O.id)||((Y=n.event)==null?void 0:Y.name))&&"active"],style:[F.value,C.value],onDblclick:$[0]||($[0]=Q(X=>$e(X),["prevent"])),onClick:$[1]||($[1]=Q(X=>ge(X),["prevent"]))},kt({mousedown:o(e).isEditMode&&ye},!0)),[u("div",{class:le(["flex gap-1.5 h-full p-[5px]",Ye.value&&"past"])},[n.event.fromTime?(d(),D("div",{key:0,class:"event-border h-full w-[2px] rounded shrink-0",style:fe(g.value)},null,4)):j("",!0),u("div",$n,[o(e).showIcon&&o(x)[n.event.type]?(d(),D("div",_n,[o(x)[n.event.type]?(d(),L(We(o(x)[n.event.type]),{key:0,class:"h-4 w-4"})):j("",!0)])):j("",!0),u("div",An,[u("p",{ref_key:"eventTitleRef",ref:y,class:le(["text-sm font-medium event-title",q.value])},N(n.event.title||"(No title)"),3),n.event.isFullDay?j("",!0):(d(),D("p",{key:0,ref_key:"eventTimeRef",ref:w,class:"text-xs font-normal event-subtitle"},N(o(Jt)(a.fromTime,a.toTime,o(e).timeFormat)),513))])])],2),o(e).isEditMode&&!t.event.isFullDay?(d(),D("div",{key:0,class:"absolute -bottom-1 h-3 w-full cursor-ns-resize",ref_key:"resize",ref:W,onMousedown:oe},null,544)):j("",!0)],16)):(d(),D("div",Ze({key:1,class:["event flex gap-1.5 min-h-6 mx-px rounded p-[5px] transition-all duration-75",[o(st)==(((Z=n.event)==null?void 0:Z.id)||((K=n.event)==null?void 0:K.name))&&"active",Ye.value&&"past"]],ref_key:"eventRef",ref:M},i.$attrs,{onDblclick:$[2]||($[2]=Q(X=>$e(X),["prevent"])),onClick:$[3]||($[3]=Q(X=>ge(X),["stop"])),style:C.value}),[n.event.fromTime?(d(),D("div",{key:0,class:"event-border w-[2px] rounded shrink-0",style:fe(g.value)},null,4)):j("",!0),u("div",Fn,[o(e).showIcon&&o(x)[n.event.type]?(d(),D("div",Sn,[o(x)[n.event.type]?(d(),L(We(o(x)[n.event.type]),{key:0,class:"h-4 w-4 text-black"})):j("",!0)])):j("",!0),u("div",Vn,[u("p",Bn,N(n.event.title||"New Event"),1)])])],16)),P.value?(d(),D("div",{key:2,ref_key:"floating",ref:f,style:fe({...o(h),zIndex:100}),class:"rounded shadow-xl"},[_(Cn,{calendarEvent:r.value,date:t.date,isEditMode:o(e).isEditMode,onClose:he,onEdit:$e,onDelete:He,class:"shadow-xl"},null,8,["calendarEvent","date","isEditMode"])],4)):j("",!0),_(ft,{modelValue:Te.value,"onUpdate:modelValue":$[4]||($[4]=X=>Te.value=X),event:a},null,8,["modelValue","event"])],64)}}},Me=Be(Yn,[["__scopeId","data-v-93d3f327"]]),On={__name:"ShowMoreCalendarEvent",props:{events:{type:Array,required:!0},date:{type:String,required:!0},totalEventsCount:{type:Number,required:!0}},emits:["showMoreEvents"],setup(t,{emit:n}){const l=n;return(e,c)=>(d(),D(te,null,[(d(!0),D(te,null,se(t.events.slice(0,2),b=>(d(),L(Me,Ze({key:b.id,event:b,date:t.date,class:"mb-1 cursor-pointer"},{ref_for:!0},e.$attrs),null,16,["event","date"]))),128)),t.totalEventsCount>2?(d(),D("span",{key:0,class:"w-fit rounded-sm p-px px-2 mx-px text-base font-medium text-ink-gray-6 hover:cursor-pointer hover:bg-surface-gray-1",onClick:c[0]||(c[0]=b=>l("showMoreEvents"))},N(t.totalEventsCount-2)+" more ",1)):j("",!0)],64))}},jn={class:"flex flex-1 flex-col overflow-scroll"},Wn={class:"grid w-full grid-cols-7"},Ln={class:"inline-flex items-center justify-center text-base text-ink-gray-6 h-8"},Rn=["onDrop","onClick"],Nn={class:"flex gap-0.5 w-full flex-col items-center text-xs text-right"},Pn=["onClick"],zn={key:0,class:"flex w-full flex-col justify-between"},Un={key:1,class:"flex w-full flex-col justify-between"},qn={__name:"CalendarMonthly",props:{events:{type:Object,required:!0},currentMonthDates:{type:Array,required:!0},currentMonth:{type:Number,required:!0},config:{type:Object}},emits:["setCurrentDate"],setup(t,{emit:n}){const l=t,e=n,c=U(()=>Ve(l.events,"Month").timedEvents.value),b=U(()=>l.currentMonthDates.length>35?1:2);function r(F){return F.getMonth()===l.currentMonth}function a(F){let C=!1;return F.getMonth()===l.currentMonth-1&&(C=!0),C}function x(F){let C=!1;return F.getMonth()===l.currentMonth+1&&(C=!0),C}const v=ve("calendarActions"),A=(F,C)=>{C&&(F.target.style.opacity="0.5",F.target.style.cursor="move",F.dataTransfer.dropEffect="move",F.dataTransfer.effectAllowed="move",F.dataTransfer.setData("calendarEventID",C))},S=(F,C)=>{let g=F.dataTransfer.getData("calendarEventID");if(!g)return;F.target.style.cursor="default";let E=l.events.find(y=>y.id===g);if(ee(C)===E.date)return;let p=l.events.find(y=>y.id===g);p.date=ee(C),p.fromDate=p.date,p.toDate=p.date,p.fromDateTime=p.date+" "+p.fromTime,p.toDateTime=p.date+" "+p.toTime,v.updateEventState(p)};return(F,C)=>(d(),D("div",jn,[u("div",Wn,[(d(!0),D(te,null,se(o(Ge),g=>(d(),D("span",Ln,N(g),1))),256))]),u("div",{class:le(["grid w-full flex-1 grid-cols-7 border-outline-gray-1",[t.currentMonthDates.length>35?"grid-rows-6":"grid-rows-5",!t.config.noBorder&&"border-[0.5px]"]])},[(d(!0),D(te,null,se(t.currentMonthDates,(g,E)=>{var p;return d(),D("div",{class:le(["overflow-y-auto",[t.config.noBorder?"border-l border-t border-0":"border-[0.5px]",t.config.noBorder&&E%7===0&&"border-l-0",o(vt)(g,t.config)&&"bg-surface-gray-1"]]),onDragover:C[4]||(C[4]=Q(()=>{},["prevent"])),onDrageneter:C[5]||(C[5]=Q(()=>{},["prevent"])),onDrop:y=>S(y,g),onClick:y=>o(v).handleCellClick(y,g)},[u("div",{class:le(["flex justify-center font-normal",r(g)?"text-gray-700":"text-gray-200"])},[u("div",Nn,[u("span",{class:le(["z-10 w-full flex justify-between items-center",[g.toDateString()===new Date().toDateString()?"p-[3px] pb-0.5":"p-2"]])},[C[6]||(C[6]=u("div",null,null,-1)),u("div",{class:le(["cursor-pointer",[g.toDateString()===new Date().toDateString()?"flex items-center justify-center bg-surface-gray-7 text-ink-white rounded size-[25px]":"bg-surface-white ",r(g)?"text-ink-gray-6":"text-ink-gray-4"]]),onClick:Q(y=>r(g)?o(v).updateActiveView("Day",g):o(v).updateActiveView("Day",g,a(g),x(g)),["stop"])},N(g.getDate()),11,Pn)],2),((p=c.value[o(ee)(g)])==null?void 0:p.length)<=b.value?(d(),D("div",zn,[(d(!0),D(te,null,se(c.value[o(ee)(g)],y=>(d(),L(Me,{event:y,date:g,class:"z-10 mb-2 cursor-pointer",key:y.id,draggable:t.config.isEditMode,onDragstart:w=>A(w,y.id),onDragend:C[0]||(C[0]=w=>w.target.style.opacity="1"),onDragover:C[1]||(C[1]=Q(()=>{},["prevent"]))},null,8,["event","date","draggable","onDragstart"]))),128))])):(d(),D("div",Un,[c.value[o(ee)(g)]?(d(),L(On,{key:0,class:"z-10 cursor-pointer",draggable:t.config.isEditMode,onDragstart:y=>A(y,c.value[o(ee)(g)][0].id),onDragend:C[2]||(C[2]=y=>y.target.style.opacity="1"),onDragover:C[3]||(C[3]=Q(()=>{},["prevent"])),events:c.value[o(ee)(g)],date:g,totalEventsCount:c.value[o(ee)(g)].length,onShowMoreEvents:y=>e("setCurrentDate",g)},null,8,["draggable","onDragstart","events","date","totalEventsCount","onShowMoreEvents"])):j("",!0)]))])],2)],42,Rn)}),256))],2)]))}},Zn={__name:"CalendarTimeMarker",props:{date:{type:[String,Date],required:!0}},setup(t){const e=ve("config").hourHeight/60,c=U(()=>{let b=new Date,r=b.getHours(),a=b.getMinutes();return{top:(r*60+a)*e+"px"}});return(b,r)=>new Date(t.date).toDateString()===new Date().toDateString()?(d(),D("div",{key:0,class:"absolute top-20 z-10 w-full px-px",style:fe(c.value)},[_(Ce,{text:o(ue)().format("ddd, MMM D, YYYY h:mm a")},{default:J(()=>[...r[0]||(r[0]=[u("div",{class:"current-time relative h-0.5 bg-[#E03636] rounded"},null,-1)])]),_:1},8,["text"])],4)):j("",!0)}},mt=Be(Zn,[["__scopeId","data-v-2ef223eb"]]),Jn={class:"flex flex-1 flex-col overflow-y-auto"},Gn={class:"flex border-b-[1px]"},Kn={class:"grid w-full grid-cols-7"},Xn=["onClick"],Qn={key:0,class:"inline-flex items-center justify-center bg-surface-gray-7 text-ink-white rounded size-[25px]"},el={class:"flex justify-center items-start py-0.5 w-20 text-base text-ink-gray-6 text-center"},tl={class:"grid w-full grid-cols-7 overflow-hidden"},nl=["data-date-attr","onClick"],ll={class:"flex"},al={class:"grid w-20 grid-cols-1"},ol={class:"relative flex w-full flex-col"},sl={class:"grid w-full grid-cols-7"},rl=["data-date-attr"],il=["data-time-attr","onClick"],ul={__name:"CalendarWeekly",props:{events:{type:Object,required:!0},config:{type:Object},weeklyDates:{type:Array,required:!1}},setup(t){const n=t,l=H(null),e=H(!1),c=H(!0),b=n.config.hourHeight,r=b/60,a=n.config.timeFormat=="24h"?ct:dt,x=U(()=>Ve(n.events).timedEvents.value),v=U(()=>Ve(n.events).fullDayEvents.value),A=p=>new Date(p).toDateString()===new Date().toDateString(),S=U(()=>{let p=new Date,y=p.getHours(),w=p.getMinutes();return{top:(y*60+w)*r+"px"}}),F=ve("calendarActions");function C(p,y){let w={},q=Object.keys(p);return y.forEach(M=>{M=ee(M),q.includes(M)&&(w[M]=p[M])}),w}function g(p){let y=[];return Object.values(p).forEach(q=>{y.push(q.length)}),Math.max(...y,1)}function E(p,y){let w=C(p,y);g(w)>3?e.value=!0:e.value=!1}return Re(()=>{E(v.value,n.weeklyDates);const p=new Date().getHours(),y=n.config.scrollToHour||p;l.value.scrollBy(0,y*60*r-10)}),me(()=>v.value,p=>{E(p,n.weeklyDates)}),me(()=>n.weeklyDates,p=>{E(v.value,p)}),(p,y)=>(d(),D("div",Jn,[u("div",Gn,[y[3]||(y[3]=u("div",{class:"w-20"},null,-1)),u("div",Kn,[(d(!0),D(te,null,se(t.weeklyDates,w=>(d(),D("span",{class:"relative flex items-center justify-center gap-1.5 h-8 text-center text-base text-ink-gray-7 cursor-pointer",onClick:q=>o(F).updateActiveView("Day",w)},[Oe(N(A(w)?o(Ge)[w.getDay()]:o(Ut)(w))+" ",1),A(w)?(d(),D("span",Qn,N(w.getDate()),1)):j("",!0)],8,Xn))),256))])]),u("div",{class:le(["flex shrink-0 h-fit",[t.config.noBorder?"border-b-[1px]":"border-[1px] border-t-0"]])},[u("div",el,[(d(),L(We(e.value?o(re):"div"),{class:le({"!pl-1.5 pr-1 py-1 !gap-1":e.value}),variant:"ghost",iconRight:e.value?c.value?"chevron-down":"chevron-up":"",onClick:y[0]||(y[0]=w=>e.value&&(c.value=!c.value))},{default:J(()=>[...y[4]||(y[4]=[u("div",{class:"text-sm text-ink-gray-6 h-[29px] inline-flex items-center"}," All day ",-1)])]),_:1},8,["class","iconRight"]))]),u("div",tl,[(d(!0),D(te,null,se(t.weeklyDates,(w,q)=>{var M,f,h;return d(),D("div",{class:"cell flex flex-col gap-1 py-1 w-full cursor-pointer","data-date-attr":w,onClick:Q(P=>{var W;((W=v.value[o(ee)(w)])==null?void 0:W.length)>1&&(c.value=!1),o(F).handleCellClick(P,w,"",!0)},["prevent"])},[(d(!0),D(te,null,se(!e.value||!c.value?v.value[o(ee)(w)]:(M=v.value[o(ee)(w)])==null?void 0:M.slice(0,2),(P,W)=>(d(),L(Me,{class:"w-[90%] cursor-pointer",event:{...P,idx:W},key:P.id,date:w,onClick:y[1]||(y[1]=Q(()=>{},["stop"]))},null,8,["event","date"]))),128)),e.value&&c.value&&((f=v.value[o(ee)(w)])==null?void 0:f.length)>2?(d(),L(o(re),{key:0,label:((h=v.value[o(ee)(w)])==null?void 0:h.length)-2+" more",variant:"ghost",class:"w-fit text-sm !py-0.5 !h-5 !justify-start cursor-pointer",onClick:y[2]||(y[2]=Q(P=>c.value=!1,["stop"]))},null,8,["label"])):j("",!0)],8,nl)}),256))])],2),u("div",{class:le(["relative flex h-full flex-col overflow-auto border-outline-gray-1",[t.config.noBorder?"":"border-b-[1px] border-l-[1px]"]]),ref_key:"gridRef",ref:l},[u("div",ll,[u("div",al,[(d(),D(te,null,se(24,w=>u("span",{class:"flex items-end justify-center text-center text-sm font-normal text-ink-gray-5",style:fe({height:`${o(b)}px`})},null,4)),64))]),u("div",ol,[u("div",{class:"w-[calc(100%-4px)] h-px z-[2] left-0.5 mt-[0.5px] bg-[#F79596] absolute",style:fe(S.value)},null,4),u("div",sl,[(d(!0),D(te,null,se(t.weeklyDates,(w,q)=>(d(),D("div",{class:le(["relative w-full border-outline-gray-1",[q===0&&"calendar-column border-l-[1px]",t.config.noBorder&&q===t.weeklyDates.length-1?"":"border-r-[1px]",o(vt)(w,t.config)&&"bg-surface-gray-1"]]),"data-date-attr":w},[(d(!0),D(te,null,se(o(a),(M,f)=>(d(),D("div",{class:"cell relative flex cursor-pointer text-ink-gray-8",key:M,"data-time-attr":f==0?"":M,onClick:Q(h=>o(F).handleCellClick(h,w,M),["prevent"])},[u("div",{class:le(["border-outline-gray-1 w-full",f!==o(a).length-1&&"border-b-[1px]"]),style:fe({height:`${o(b)}px`})},null,6)],8,il))),128)),(d(!0),D(te,null,se(x.value[o(ee)(w)],(M,f)=>(d(),L(Me,{class:"absolute mb-2 w-[90%] cursor-pointer",event:M,key:M.id,date:w},null,8,["event","date"]))),128)),_(mt,{date:w},null,8,["date"])],10,rl))),256))])])])],2)]))}},dl={class:"flex flex-col flex-1 overflow-y-auto"},cl={class:"flex justify-center items-start pt-[3px] w-20 text-base text-ink-gray-6 text-center"},vl=["data-date-attr"],fl={class:"h-full overflow-hidden"},ml={class:"grid h-full w-20 grid-cols-1"},pl={class:"grid h-full w-full grid-cols-1 pb-2"},gl=["data-time-attr","onClick"],yl={__name:"CalendarDaily",props:{events:{type:Object,required:!1},config:{type:Object},currentDate:{type:Object,required:!0}},setup(t){const n=t,l=U(()=>Ve(n.events).timedEvents.value),e=U(()=>Ve(n.events).fullDayEvents.value),c=H(null),b=n.config.hourHeight,r=b/60,a=H(!1),x=H(!0),v=U(()=>{var C;return((C=e.value)==null?void 0:C[ee(n.currentDate)])||[]});function A(){a.value=v.value.length>4,a.value||(x.value=!0)}me(v,A,{immediate:!0});const S=n.config.timeFormat=="24h"?ct:dt;Re(()=>{const C=new Date().getHours(),g=n.config.scrollToHour||C;c.value.scrollBy(0,g*60*r-10)});const F=ve("calendarActions");return(C,g)=>(d(),D("div",dl,[u("div",{class:le(["flex shrink-0 h-fit",[t.config.noBorder?"border-t-[1px]":"border-[1px] border-b-0"]])},[u("div",cl,[(d(),L(We(a.value?o(re):"div"),{class:le({"!pl-1.5 pr-1 py-1 !gap-1":a.value}),variant:"ghost",iconRight:a.value?x.value?"chevron-down":"chevron-up":"",onClick:g[0]||(g[0]=E=>a.value&&(x.value=!x.value))},{default:J(()=>[...g[4]||(g[4]=[u("div",{class:"text-sm text-ink-gray-6 h-7 inline-flex items-center"}," All day ",-1)])]),_:1},8,["class","iconRight"]))]),u("div",{class:"flex flex-wrap gap-1 py-1 w-full overflow-hidden","data-date-attr":t.currentDate,onClick:g[3]||(g[3]=Q(E=>o(F).handleCellClick(E,t.currentDate,"",!0),["prevent"]))},[(d(!0),D(te,null,se(!a.value||!x.value?v.value:v.value.slice(0,4),(E,p)=>(d(),L(Me,{class:"w-[21%] cursor-pointer",event:{...E,idx:p},key:E.id,date:t.currentDate,onClick:g[1]||(g[1]=Q(()=>{},["stop"]))},null,8,["event","date"]))),128)),a.value&&x.value&&v.value.length>4?(d(),L(o(re),{key:0,label:v.value.length-4+" more",variant:"ghost",class:"w-fit text-sm !h-6 !justify-start cursor-pointer",onClick:g[2]||(g[2]=Q(E=>x.value=!1,["stop"]))},null,8,["label"])):j("",!0)],8,vl)],2),u("div",fl,[u("div",{class:le(["flex h-full w-full overflow-scroll border-outline-gray-1",[t.config.noBorder?"border-t-[1px]":"border-[1px] border-r-0"]]),ref_key:"gridRef",ref:c},[u("div",ml,[(d(),D(te,null,se(24,E=>u("span",{class:"flex h-[72px] items-end justify-center text-center text-sm font-normal text-ink-gray-5",style:fe({height:`${o(b)}px`})},null,4)),64))]),u("div",pl,[u("div",{class:le(["calendar-column relative border-l-[1px] border-outline-gray-1",[t.config.noBorder?"":" border-r-[1px]"]])},[(d(!0),D(te,null,se(o(S),(E,p)=>(d(),D("div",{class:"relative flex text-ink-gray-8",key:E,"data-time-attr":p==0?"":E,onClick:y=>o(F).handleCellClick(y,t.currentDate,E)},[u("div",{class:le(["w-full border-outline-gray-1",p!==o(S).length-1&&"border-b-[1px]"]),style:fe({height:`${o(b)}px`})},null,6)],8,gl))),128)),(d(!0),D(te,null,se(l.value[o(ee)(t.currentDate)],(E,p)=>(d(),L(Me,{class:"absolute mb-2 cursor-pointer",event:E,key:E.id,date:t.currentDate},null,8,["event","date"]))),128)),_(mt,{date:t.currentDate},null,8,["date"])],2)])],2)])]))}};function hl(){const t=H(!1),n=Ee({date:"",participant:"",fromDate:"",toDate:"",fromTime:"",toTime:"",venue:"",title:"",isFullDay:!1});function l(e,c,b,r,a="",x=!1){if(!r)return;if(b=c==="Week"?e.target.parentNode.parentNode.getAttribute("data-date-attr"):b,n.date=ee(new Date(b)),n.fromDate=b,n.toDate=b,n.isFullDay=x,c==="Month"){t.value=!0;return}let v=je(de(a)+60).slice(0,-3);n.fromTime=a,n.toTime=v,t.value=!0}return{showEventModal:t,newEvent:n,openNewEventModal:l}}const Dl={class:"flex h-full flex-col overflow-hidden"},bl={class:"mb-2 flex justify-between"},xl={class:"flex items-center"},wl={class:"flex gap-x-1"},kl={__name:"Calendar",props:{events:{type:Object,required:!1,default:[]},config:{type:Object},onClick:{type:Function,required:!1},onDblClick:{type:Function,required:!1},onCellClick:{type:Function,required:!1}},emits:["create","update","delete","rangeChange"],setup(t,{expose:n,emit:l}){const e=t,c=l,r={...{scrollToHour:15,disableModes:[],defaultMode:"Month",isEditMode:!1,eventIcons:{},hourHeight:50,enableShortcuts:!0,showIcon:!0,timeFormat:"12h",weekends:["sunday"]},...e.config};let a=H(r.defaultMode);function x(s,m,k,V){a.value=s,s=="Day"&&m&&(z.value=Y(m),k&&ge(),V&&pe())}const v=H(ue().format("YYYY-MM-DD"));function A(s=""){const m=ue(s);v.value=m.format("YYYY-MM-DD"),X(v.value)}function S(s,m){if(typeof s=="number"&&typeof m=="number"){const k=ue(v.value).date();let V=ue(`${s}-${String(m+1).padStart(2,"0")}-01`).date(k);V.month()!==m&&(V=V.startOf("month").month(m).endOf("month")),v.value=V.format("YYYY-MM-DD")}}Re(()=>{r.enableShortcuts&&window.addEventListener("keydown",F)}),Ct(()=>{window.removeEventListener("keydown",F)});function F(s){s.target.tagName==="INPUT"||s.target.tagName==="TEXTAREA"||s.target.isContentEditable||(s.key.toLowerCase()==="m"&&(a.value="Month"),s.key.toLowerCase()==="w"&&(a.value="Week"),s.key.toLowerCase()==="d"&&(a.value="Day"),s.key.toLowerCase()==="t"&&X(),s.key==="ArrowLeft"&&we(),s.key==="ArrowRight"&&xe())}Ue("activeView",a),Ue("config",r);const C=U(()=>{var s;return((s=e.events)==null?void 0:s.map(m=>{const{fromDate:k,toDate:V,fromTime:R,toTime:ae,...ie}=m,ke=k,_e=k+" "+R,Ae=V+" "+ae;return{...ie,date:ke,fromDateTime:_e,toDateTime:Ae,fromDate:k,toDate:V,fromTime:R,toTime:ae}}))||[]}),g=H(C.value);me(()=>e.events,()=>E(),{deep:!0});function E(){g.value=C.value}g.value.forEach(s=>{!s.fromTime||!s.toTime||(s.fromTime=Le(s.fromTime),s.toTime=Le(s.toTime))});const{showEventModal:p,newEvent:y,openNewEventModal:w}=hl();Ue("calendarActions",{createNewEvent:q,updateEventState:M,deleteEvent:f,handleCellClick:P,updateActiveView:x,props:e});function q(s){g.value.push(s),s.fromDateTime=s.fromDate+" "+s.fromTime,s.toDateTime=s.toDate+" "+s.toTime,c("create",s)}function M(s){const m=s.id;let k=g.value.findIndex(V=>V.id===m);s.fromDateTime=s.fromDate+" "+s.fromTime,s.toDateTime=s.toDate+" "+s.toTime,g.value[k]=s,c("update",s)}function f(s){const m=g.value.findIndex(k=>k.id===s);g.value.splice(m,1),c("delete",s)}function h(s){const{e:m,view:k,date:V,time:R,isFullDay:ae}=s,ie=r.isEditMode;w(m,k,V,ie,R,ae)}function P(s,m,k="",V=!1){const R={e:s,view:a.value,date:m,time:k,isFullDay:V};if(e.onCellClick){e.onCellClick(R);return}h(R)}let B=[{label:"Day",value:"Day",iconLeft:nn},{label:"Week",value:"Week",iconLeft:sn},{label:"Month",value:"Month",iconLeft:cn}].filter(s=>!r.disableModes.includes(s.value)),T=H(new Date().getFullYear()),I=H(new Date().getMonth()),be=H(new Date),ne=U(()=>Pt(I.value,T.value)),oe=U(()=>{let s=[...ne.value],m=[];for(;s.length;){let k=s.splice(0,7);m.push(k)}return m});function ye(s){return oe.value.findIndex(m=>m.find(k=>new Date(k).toLocaleDateString().split("T")[0]===new Date(s).toLocaleDateString().split("T")[0]))}let G=H(ye(be.value)),z=H(ne.value.findIndex(s=>new Date(s).toDateString()===be.value.toDateString())),Ie=U(()=>ne.value[z.value]);function Ne(s){a.value="Day",z.value=Y(s),G.value=ye(s)}function xe(){he[a.value](),S(T.value,I.value)}function we(){Pe[a.value](),S(T.value,I.value)}const he={Month:pe,Week:Te,Day:He},Pe={Month:ge,Week:$e,Day:Ye};function pe(){I.value++,I.value>11&&(I.value=0,T.value++),z.value=O(I.value,T.value),G.value=ye(ne.value[z.value])}function ge(){I.value===0?(I.value=11,T.value--):I.value--,z.value=$(I.value,T.value),G.value=ye(ne.value[z.value])}function Te(){const s=G.value+1;if(s<oe.value.length){G.value=s;const V=oe.value[G.value];if(V.some(ie=>ie.getMonth()!==I.value)){pe(),G.value=0;const ie=oe.value[0],ke=i(ie,I.value);z.value=Y(ke);return}const ae=i(V,I.value);z.value=Y(ae);return}pe(),G.value=0;const m=oe.value[0],k=i(m,I.value);z.value=Y(k)}function $e(){const s=G.value-1;if(s>=0){G.value=s;const ie=oe.value[G.value];if(ie.some(Ae=>Ae.getMonth()!==I.value)){ge(),G.value=oe.value.length-1;const Ae=oe.value[G.value],pt=i(Ae,I.value);z.value=Y(pt);return}const _e=i(ie,I.value);z.value=Y(_e);return}ge();let m=oe.value.length-1;oe.value[m].some(ie=>ie.getMonth()!==I.value)&&m>0&&(m=m-1),G.value=m;const R=oe.value[G.value],ae=i(R,I.value);z.value=Y(ae)}function He(){z.value++,(z.value>ne.value.length-1||!K(ne.value[z.value]))&&pe()}function Ye(){z.value--,(z.value<0||!K(ne.value[z.value]))&&ge()}function i(s,m){return s.find(k=>k.getMonth()===m)||s[0]}function $(s,m){let k=new Date(m,s+1,0);return ne.value.findIndex(R=>new Date(R).toDateString()===k.toDateString())}function O(s,m){let k=new Date(m,s,1);return ne.value.findIndex(R=>new Date(R).toDateString()===k.toDateString())}function Y(s){return ne.value.findIndex(m=>new Date(m).toDateString()===new Date(s).toDateString())}const Z=U(()=>{if(a.value==="Day"){const ae=ne.value[z.value];if(ae)return ue(ae).format("ddd, D MMM YYYY")}if(a.value!=="Week")return qe(I.value,T.value);const s=oe.value[G.value]||[];if(!s.length)return qe(I.value,T.value);const m=Xt(s);if(m.length===1)return qe(m[0].month,m[0].year);const k=ut.map(ae=>ae.slice(0,3)),V=m[0],R=m[m.length-1];return V.year===R.year?`${k[V.month]} - ${k[R.month]} ${V.year}`:`${k[V.month]} ${V.year} - ${k[R.month]} ${R.year}`});function K(s){return s=new Date(s),s.getMonth()===I.value}function X(s){const m=s?new Date(s):new Date;m.toString()!=="Invalid Date"&&(T.value=m.getFullYear(),I.value=m.getMonth(),be.value=m,Et(()=>{G.value=ye(m);const k=Y(m);k>=0?z.value=k:z.value=O(I.value,T.value)}))}function ze(){const s=V=>V?ue(V).format("YYYY-MM-DD"):"";if(a.value==="Day"){const V=Ie.value;if(!V)return null;const R=ue(V).startOf("day"),ae=ue(V).endOf("day");return{startDate:s(R),endDate:s(ae)}}if(a.value==="Week"){const V=oe.value[G.value]||[];if(!V.length)return null;const R=[...V].sort((ke,_e)=>ke-_e),ae=ue(R[0]).startOf("day"),ie=ue(R[R.length-1]).endOf("day");return{startDate:s(ae),endDate:s(ie)}}const m=ue(new Date(T.value,I.value,1)).startOf("day"),k=ue(new Date(T.value,I.value+1,0)).endOf("day");return{startDate:s(m),endDate:s(k)}}let Ke="";return me(()=>{const s=ze();return s?{view:a.value,...s}:null},s=>{if(!s)return;const m=`${s.view}-${s.startDate}-${s.endDate}`;m!==Ke&&(Ke=m,c("rangeChange",s))},{immediate:!0}),n({reloadEvents:E,currentMonthYear:Z,currentYear:T,currentMonth:I,enabledModes:B,activeView:a,decrement:we,increment:xe,updateActiveView:x,setCalendarDate:X,onMonthYearChange:A,selectedMonthDate:v}),(s,m)=>(d(),D("div",Dl,[Xe(s.$slots,"header",et(tt({currentMonthYear:Z.value,currentYear:o(T),currentMonth:o(I),enabledModes:o(B),activeView:o(a),decrement:we,increment:xe,updateActiveView:x,setCalendarDate:X,onMonthYearChange:A,selectedMonthDate:v.value})),()=>[u("div",bl,[u("div",xl,[_(Mt,{modelValue:v.value,"onUpdate:modelValue":m[0]||(m[0]=k=>A(k)),clearable:!1},{target:J(({togglePopover:k})=>[_(o(re),{variant:"ghost",class:"text-lg font-medium text-ink-gray-7",label:Z.value,iconRight:"chevron-down",onClick:k},null,8,["label","onClick"])]),_:1},8,["modelValue"])]),u("div",wl,[_(o(re),{onClick:we,variant:"ghost",icon:"chevron-left"}),_(o(re),{label:"Today",onClick:m[1]||(m[1]=k=>X()),variant:"ghost"}),_(o(re),{onClick:xe,variant:"ghost",icon:"chevron-right"}),_(o(Nt),{buttons:o(B),class:"ml-2",modelValue:o(a),"onUpdate:modelValue":m[2]||(m[2]=k=>Qe(a)?a.value=k:a=k)},null,8,["buttons","modelValue"])])])]),o(a)==="Month"?(d(),L(qn,{key:0,events:g.value,currentMonth:o(I),currentMonthDates:o(ne),config:r,onSetCurrentDate:m[3]||(m[3]=k=>Ne(k))},null,8,["events","currentMonth","currentMonthDates"])):o(a)==="Week"?(d(),L(ul,{key:1,events:g.value,weeklyDates:o(oe)[o(G)],config:r},null,8,["events","weeklyDates"])):o(a)==="Day"?(d(),L(yl,{key:2,events:g.value,"current-date":o(Ie),config:r},{header:J(({parseDateWithDay:k,currentDate:V,fullDay:R})=>[Xe(s.$slots,"daily-header",et(tt({parseDateWithDay:k,currentDate:V,fullDay:R})))]),_:3},8,["events","current-date"])):j("",!0),o(p)?(d(),L(ft,{key:3,modelValue:o(p),"onUpdate:modelValue":m[4]||(m[4]=k=>Qe(p)?p.value=k:null),event:o(y)},null,8,["modelValue","event"])):j("",!0)]))}},Cl={class:"space-y-1"},El={key:0,class:"block text-xs text-ink-gray-5"},Ml={class:"flex text-center"},Tl=["onMouseover"],$l={__name:"Rating",props:{id:{type:String,default:""},modelValue:{type:Number,default:0},label:{type:String,default:""},size:{type:String,default:"md"}},emits:["update:modelValue"],setup(t,{emit:n}){const l=t,e=v=>{let A=[{sm:"size-4",md:"size-5",lg:"size-6",xl:"size-7"}[l.size]];return v<=r.value&&v>b.value?A.push("fill-yellow-200"):v<=b.value&&A.push("fill-yellow-500"),A.join(" ")},c=n,b=H(l.modelValue),r=H(0);let a=v=>{c("update:modelValue",v)};function x(v){a(v),b.value=v}return me(()=>l.modelValue,v=>{b.value=v}),(v,A)=>(d(),D("div",Cl,[l.label?(d(),D("label",El,N(l.label),1)):j("",!0),u("div",Ml,[(d(),D(te,null,se(5,S=>u("div",{onMouseover:F=>r.value=S,onMouseleave:A[0]||(A[0]=F=>r.value=0)},[_(o(Tt),{class:le(["fill-gray-400 text-gray-50 stroke-1 mr-1 cursor-pointer",e(S)]),onClick:F=>x(S)},null,8,["class","onClick"])],40,Tl)),64))])]))}},_l={class:"flex text-base"},Al={class:"flex flex-col w-1/2 p-5"},Fl={class:"text-lg font-semibold mb-4"},Sl={class:"flex flex-col space-y-4 text-sm text-ink-gray-8"},Vl={class:"flex items-center space-x-2 w-fit"},Bl={class:"flex items-center space-x-2 w-fit"},Il={class:"flex items-center space-x-2 w-fit"},Hl={class:"flex items-center space-x-2 w-fit"},Yl={class:"flex items-center space-x-2 w-fit"},Ol={class:"flex items-center space-x-2 mt-auto"},jl={key:0,class:"flex flex-col space-y-4 p-5"},Wl={class:"flex items-center justify-between"},Ll={key:1,class:"flex flex-col space-y-4 p-5"},Rl={__name:"Event",props:$t({event:{type:[Object,null],required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const n=_t(t,"modelValue"),l=ve("$user"),e=ve("$dayjs"),c=H(0),b=H(!1),r=Ee({}),a=Ee({}),x=t;me(l,()=>{v()&&A.reload()});const v=()=>l.data&&l.data.name==x.event.evaluator,A=Fe({url:"frappe.client.get_value",makeParams(f){return{doctype:"Property Setter",fieldname:"value",filters:{doc_type:"LMS Certificate",property:"default_print_format"}}},onSuccess(f){a.template=f.value}}),S=f=>{window.open(f,"_blank")},F=Fe({url:"lms.lms.api.save_evaluation_details",makeParams(f){return{member:x.event.member,course:x.event.course,batch_name:x.event.batch_name,date:x.event.date,start_time:x.event.start_time,end_time:x.event.end_time,status:r.status,rating:r.rating,summary:r.summary,evaluator:x.event.evaluator}},auto:!1,onSuccess(f){r.name=f.name}}),C=Fe({url:"frappe.client.get",makeParams(f){return{doctype:"LMS Certificate Evaluation",filters:{member:x.event.member,course:x.event.course}}},onSuccess(f){for(const h in f)h in r&&(r[h]=f[h]),h=="rating"&&(r.rating=f.rating*5),r.status=="Pass"&&(b.value=!0)},auto:!1}),g=()=>{F.submit({},{onSuccess:()=>{r.status=="Pass"?b.value=!0:n.value=!1,Se.success(__("Evaluation saved successfully"))},onError(f){var h;Se.warning(__(((h=f.messages)==null?void 0:h[0])||f))}})},E=Fe({url:"lms.lms.api.save_certificate_details",makeParams(f){return{member:x.event.member,course:x.event.course,batch_name:x.event.batch_name,published:a.published,issue_date:a.issue_date,expiry_date:a.expiry_date,template:a.template,evaluator:x.event.evaluator}},auto:!1,onSuccess(f){a.name=f},onError(f){var h;Se.warning(__(((h=f.messages)==null?void 0:h[0])||f))}}),p=Fe({url:"frappe.client.get",makeParams(f){return{doctype:"LMS Certificate",filters:{member:x.event.member,course:x.event.course}}},onSuccess(f){for(const h in f)h in a&&(a[h]=f[h]),a.name=f.name,b.value=!0},onError(f){a.template=A.data.value},auto:!1}),y=()=>{E.submit({},{onSuccess:()=>{Se.success(__("Certificate saved successfully"))},onError(f){var h;Se.error(__(((h=f.messages)==null?void 0:h[0])||f))}})};me(n,()=>{n.value&&(r.rating=0,r.status="Pending",r.summary="",C.reload(),a.published=!0,a.issue_date=e().format("YYYY-MM-DD"),a.expiry_date=null,a.template=null,a.name=null,p.reload())});const w=f=>{window.open(`/api/method/frappe.utils.print_format.download_pdf?doctype=LMS+Certificate&name=${f.name}&format=${encodeURIComponent(f.template)}`)},q=U(()=>[{value:"Pending",label:__("Pending")},{value:"In Progress",label:__("In Progress")},{value:"Pass",label:__("Pass")},{value:"Fail",label:__("Fail")}]),M=U(()=>{const f=[{label:__("Evaluation"),icon:At}];return b.value&&f.push({label:__("Certification"),icon:Ft}),f});return(f,h)=>(d(),L(o(rt),{modelValue:n.value,"onUpdate:modelValue":h[12]||(h[12]=P=>n.value=P),options:{size:"2xl"}},{body:J(()=>[u("div",_l,[u("div",Al,[u("div",Fl,N(t.event.title),1),u("div",Sl,[_(o(Ce),{text:f.__("Email ID")},{default:J(()=>[u("div",Vl,[_(o(St),{class:"h-4 w-4 stroke-1.5"}),u("span",null,N(t.event.member),1)])]),_:1},8,["text"]),_(o(Ce),{text:f.__("Course")},{default:J(()=>[u("div",Bl,[_(o(Vt),{class:"h-4 w-4 stroke-1.5"}),u("span",null,N(t.event.course_title),1)])]),_:1},8,["text"]),t.event.batch_title?(d(),L(o(Ce),{key:0,text:f.__("Batch")},{default:J(()=>[u("div",Il,[_(o(Bt),{class:"h-4 w-4 stroke-1.5"}),u("span",null,N(t.event.batch_title),1)])]),_:1},8,["text"])):j("",!0),_(o(Ce),{text:f.__("Date")},{default:J(()=>[u("div",Hl,[_(o(It),{class:"h-4 w-4 stroke-1.5"}),u("span",null,N(o(e)(t.event.date).format("DD MMM YYYY")),1)])]),_:1},8,["text"]),_(o(Ce),{text:f.__("Time")},{default:J(()=>[u("div",Yl,[_(o(Ht),{class:"h-4 w-4 stroke-1.5"}),u("span",null,N(o(nt)(t.event.start_time))+" - "+N(o(nt)(t.event.end_time)),1)])]),_:1},8,["text"])]),u("div",Ol,[a.name?(d(),L(o(re),{key:0,onClick:h[0]||(h[0]=P=>w(a)),class:"w-full"},{prefix:J(()=>[_(o(Yt),{class:"h-4 w-4 stroke-1.5"})]),default:J(()=>[Oe(" "+N(f.__("View Certificate")),1)]),_:1})):v()?(d(),L(o(re),{key:1,onClick:h[1]||(h[1]=P=>S(t.event.venue)),class:"w-full"},{prefix:J(()=>[_(o(Ot),{class:"h-4 w-4 stroke-1.5"})]),default:J(()=>[u("span",null,N(f.__("Join Meeting")),1)]),_:1})):j("",!0)])]),_(o(Rt),{tabs:M.value,as:"div",modelValue:c.value,"onUpdate:modelValue":h[11]||(h[11]=P=>c.value=P),class:"border-l w-1/2"},{"tab-panel":J(({tab:P})=>[P.label=="Evaluation"?(d(),D("div",jl,[u("div",Wl,[_($l,{modelValue:r.rating,"onUpdate:modelValue":h[2]||(h[2]=W=>r.rating=W),label:f.__("Rating"),disabled:!v()},null,8,["modelValue","label","disabled"]),_(o(ce),{type:"select",options:q.value,modelValue:r.status,"onUpdate:modelValue":h[3]||(h[3]=W=>r.status=W),label:f.__("Status"),class:"w-1/2",disabled:!v()},null,8,["options","modelValue","label","disabled"])]),_(o(jt),{modelValue:r.summary,"onUpdate:modelValue":h[4]||(h[4]=W=>r.summary=W),label:f.__("Summary"),rows:7,disabled:!v()},null,8,["modelValue","label","disabled"]),v()?(d(),L(o(re),{key:0,variant:"solid",onClick:h[5]||(h[5]=W=>g())},{default:J(()=>[Oe(N(f.__("Save")),1)]),_:1})):j("",!0)])):(d(),D("div",Ll,[_(o(ce),{type:"checkbox",modelValue:a.published,"onUpdate:modelValue":h[6]||(h[6]=W=>a.published=W),label:f.__("Published"),disabled:!v()},null,8,["modelValue","label","disabled"]),_(Wt,{modelValue:a.template,"onUpdate:modelValue":h[7]||(h[7]=W=>a.template=W),label:f.__("Template"),doctype:"Print Format",disabled:!v(),filters:{doc_type:"LMS Certificate"}},null,8,["modelValue","label","disabled"]),_(o(ce),{type:"date",modelValue:a.issue_date,"onUpdate:modelValue":h[8]||(h[8]=W=>a.issue_date=W),disabled:!v(),label:f.__("Issue Date")},null,8,["modelValue","disabled","label"]),_(o(ce),{type:"date",modelValue:a.expiry_date,"onUpdate:modelValue":h[9]||(h[9]=W=>a.expiry_date=W),disabled:!v(),label:f.__("Expiry Date")},null,8,["modelValue","disabled","label"]),v()?(d(),L(o(re),{key:0,variant:"solid",onClick:h[10]||(h[10]=W=>y())},{default:J(()=>[Oe(N(f.__("Save")),1)]),_:1})):j("",!0)]))]),_:1},8,["tabs","modelValue"])])]),_:1},8,["modelValue"]))}},Nl={class:"mt-7 mb-20"},Pl={class:"flex h-screen flex-col overflow-hidden"},zl={class:"mb-2 flex justify-between"},Ul={class:"text-lg text-ink-gray-9 font-semibold"},ql={class:"flex gap-x-1"},Kl={__name:"ProfileEvaluationSchedule",props:{profile:{type:Object,required:!0}},setup(t){var a,x;const n=ve("$user"),l=H(null),e=H(!1),b=Lt({doctype:"LMS Certificate Request",filters:{evaluator:(a=t.profile.data)==null?void 0:a.name,status:["!=","Cancelled"]},fields:["name","member_name","member","course","course_title","batch_name","batch_title","evaluator","evaluator_name","date","start_time","end_time","google_meet_link"],auto:!0,orderBy:"creation desc",pageLength:500,cache:["schedule",(x=n.data)==null?void 0:x.name],transform(v){return v.map(A=>{let S=Object.assign({},A);return S.title=`${A.member_name}'s Evaluation`,S.participant=A.member_name,S.id=A.name,S.venue=A.google_meet_link,S.fromDate=`${A.date}`,S.toDate=`${A.date}`,S.fromTime=A.start_time,S.toTime=A.end_time,S.color="green",S})}}),r=v=>{l.value=v.calendarEvent,e.value=!0};return(v,A)=>{var S;return d(),D(te,null,[u("div",Nl,[u("div",Pl,[(S=o(b).data)!=null&&S.length?(d(),L(o(kl),{key:0,config:{defaultMode:"Week",disableModes:["Day","Week"],redundantCellHeight:100,enableShortcuts:!1},events:o(b).data,onClick:A[0]||(A[0]=F=>r(F))},{header:J(({currentMonthYear:F,decrement:C,increment:g})=>[u("div",zl,[u("span",Ul,N(F),1),u("div",ql,[_(o(re),{onClick:E=>C(),variant:"ghost",class:"h-4 w-4",icon:"chevron-left"},null,8,["onClick"]),_(o(re),{onClick:E=>g(),variant:"ghost",class:"h-4 w-4",icon:"chevron-right"},null,8,["onClick"])])])]),_:1},8,["events"])):j("",!0)])]),_(Rl,{modelValue:e.value,"onUpdate:modelValue":A[1]||(A[1]=F=>e.value=F),event:l.value},null,8,["modelValue","event"])],64)}}};export{Kl as default};
//# sourceMappingURL=ProfileEvaluationSchedule-BvRkvdq6.js.map
